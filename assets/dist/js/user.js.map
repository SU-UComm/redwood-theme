{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/decanter/core/src/js/components/accordion/accordion.js","webpack:///./node_modules/decanter/core/src/js/components/components.js","webpack:///./node_modules/decanter/core/src/js/components/main-nav/Nav.js","webpack:///./node_modules/decanter/core/src/js/components/main-nav/NavItem.js","webpack:///./node_modules/decanter/core/src/js/components/main-nav/globals.js","webpack:///./node_modules/decanter/core/src/js/components/main-nav/main-nav.js","webpack:///./node_modules/decanter/core/src/js/components/nav/ActivePath.js","webpack:///./node_modules/decanter/core/src/js/components/nav/ElementFetcher.js","webpack:///./node_modules/decanter/core/src/js/components/nav/EventHandlerDispatch.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/accordion/SecondaryNavAccordion.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/accordion/SecondarySubNavAccordion.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/accordion/events/OnArrowLeft.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/accordion/events/OnArrowRight.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/accordion/events/OnClick.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/accordion/events/OnSpace.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/SecondaryNavButtons.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/SecondarySubNavButtons.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/SubNavToggle.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/events/OnArrowRight.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/events/OnTab.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/events/SubNavToggleArrowDown.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/events/SubNavToggleArrowLeft.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/events/SubNavToggleArrowUp.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/events/SubNavToggleClick.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/buttons/events/SubNavToggleSpace.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/SecondaryNavAbstract.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/SecondaryNavItem.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/EventAbstract.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnArrowDown.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnArrowLeft.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnArrowRight.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnArrowUp.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnEnd.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnEnter.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnEsc.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnHome.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnSpace.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/events/OnTab.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/common/globals.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/secondary-nav-accordion.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/secondary-nav-buttons.js","webpack:///./node_modules/decanter/core/src/js/components/secondary-nav/secondary-nav.js","webpack:///./node_modules/decanter/core/src/js/core/core.js","webpack:///./node_modules/decanter/core/src/js/utilities/events.js","webpack:///./node_modules/decanter/core/src/js/utilities/keyboard.js","webpack:///./redwood/assets/js/user.js","webpack:///./redwood/assets/js/user/comment_form.js","webpack:///./redwood/assets/scss/user.scss"],"names":["accordions","document","querySelectorAll","titleButtons","expandButtons","collapseButtons","isExpanded","x","getAttribute","setExpanded","value","setAttribute","setHidden","addEventListener","event","Array","prototype","forEach","call","acc","classList","remove","btn","parentNode","nextElementSibling","e","expandBtn","closestAccordion","closest","closestBtns","closestBtn","collapseBtn","Nav","elem","topNav","getTopNav","NavItem","item","toggle","querySelector","tagName","toggleText","innerText","items","openEvent","createEvent","closeEvent","push","nav","isSubNav","getComputedStyle","display","length","getFirstItem","link","getLastItem","currentItem","currentIndex","lastIndex","indexOf","getFirstLink","focus","getLastLink","Number","isInteger","focusOnFirst","closeAllMobileNavs","focusOn","dispatchEvent","window","handler","type","charAt","toUpperCase","slice","target","srcElement","preventDefault","stopPropagation","closeMobileNav","openMobileNav","theKey","key","keyCode","isEsc","isTopNav","isDesktopNav","closeSubNav","isEnter","isSpace","subNav","isSubNavTrigger","theSubNavs","lastElementChild","closeAllSubNavs","add","focusOnTrigger","isSubNavItem","openSubNav","location","isDownArrow","isUpArrow","isLeftArrow","parent","getParentNav","isRightArrow","isHome","isEnd","isTab","shifted","shiftKey","isLastItem","isFirstItem","theNavs","theNav","navClass","navs","firstZindex","index","zIndex","style","matches","ActivePath","element","options","itemActiveClass","itemActiveTrailClass","itemExpandedClass","path","pathname","anchor","hash","query","search","finders","val","actives","expandActivePathItem","ElementFetcher","what","firstElementChild","firstChild","previousElementSibling","node","err","EventHandlerDispatch","createEventListeners","eventMethod","onKeydown","onClick","callEvent","normalized","normalizeKey","eventRegistry","eventObj","init","SecondaryNavAccordion","createSubNavItems","activePath","expandActivePath","depth","opts","SecondarySubNavAccordion","subNavItems","SecondaryNavItem","navItems","SecondaryNavAbstract","masterNav","parentNav","Object","assign","createEventRegistry","dispatch","registryDefaults","OnClick","onKeydownSpace","OnSpace","onKeydownEnter","onKeydownHome","OnHome","onKeydownEnd","OnEnd","onKeydownTab","OnTab","onKeydownEscape","OnEsc","onKeydownArrowUp","OnArrowUp","onKeydownArrowRight","OnArrowRight","onKeydownArrowDown","OnArrowDown","onKeydownArrowLeft","OnArrowLeft","getElement","otherLeft","NavItemOnArrowLeft","EventAbstract","blur","eventClick","SecondaryNavButtons","toggleClass","toggleLabel","subNavToggleText","SecondarySubNavButtons","toggleElement","createToggleButton","insertBefore","SubNavToggle","createElement","label","createTextNode","id","Math","random","toString","substr","appendChild","SubNavToggleClick","SubNavToggleSpace","SubNavToggleArrowUp","SubNavToggleArrowDown","SubNavToggleArrowLeft","getDepth","defaultOptions","itemClass","itemParentClass","setActivePath","parentItemSelector","navItemSelector","parentItems","leafItems","createParentItems","createNavItems","parentMenu","itemLink","nextDepth","newParentItem","newNavItem","OnEnter","isOnTarget","validate","exec","context","fetcher","fetch","eventHome","nestedLeft","firstLevelLeft","upevent","eventDown","eventEnd","firstItem","lastItem","secondaryNavClass","secondaryNavs","className","match","NodeList","eventName","data","Event","ev","initEvent","map","home","end","tab","escape","space","enter","arrowLeft","arrowRight","arrowUp","arrowDown","entries","entry","postComments","commentList","replyButtons","replyForms","i","innerHTML"],"mappings":"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","file":"user.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./redwood/assets/js/user.js\");\n","const accordions = document.querySelectorAll('.su-accordion');\nconst titleButtons = document.querySelectorAll('.su-accordion__button');\nconst expandButtons = document.querySelectorAll('.su-accordion__expand-all');\nconst collapseButtons = document.querySelectorAll('.su-accordion__collapse-all');\n\nconst isExpanded = x => x.getAttribute('aria-expanded') === 'true';\nconst setExpanded = (x, value) => x.setAttribute('aria-expanded', value);\nconst setHidden = (x, value) => x.setAttribute('aria-hidden', value);\n\ndocument.addEventListener('DOMContentLoaded', event => {\n  Array.prototype.forEach.call(accordions, acc => {\n    acc.classList.remove('no-js');\n  });\n\n  Array.prototype.forEach.call(titleButtons, btn => {\n    setExpanded(btn, 'false');\n    setHidden(btn.parentNode.nextElementSibling, 'true');\n  });\n});\n\nArray.prototype.forEach.call(titleButtons, btn => {\n  btn.addEventListener('click', function (e) {\n    if (!isExpanded(btn)) {\n      setExpanded(btn, 'true');\n      setHidden(btn.parentNode.nextElementSibling, 'false');\n    } else {\n      setExpanded(btn, 'false');\n      setHidden(btn.parentNode.nextElementSibling, 'true');\n    }\n  }, false);\n});\n\nArray.prototype.forEach.call(expandButtons, expandBtn => {\n  expandBtn.addEventListener('click', function (e) {\n    const closestAccordion = expandBtn.closest('.su-accordion');\n    const closestBtns = closestAccordion.querySelectorAll('.su-accordion__button');\n    Array.prototype.forEach.call(closestBtns, closestBtn => {\n      setExpanded(closestBtn, 'true');\n      setHidden(closestBtn.parentNode.nextElementSibling, 'false');\n    });\n  }, false);\n});\n\nArray.prototype.forEach.call(collapseButtons, collapseBtn => {\n  collapseBtn.addEventListener('click', function (e) {\n    const closestAccordion = collapseBtn.closest('.su-accordion');\n    const closestBtns = closestAccordion.querySelectorAll('.su-accordion__button');\n    Array.prototype.forEach.call(closestBtns, closestBtn => {\n      setExpanded(closestBtn, 'false');\n      setHidden(closestBtn.parentNode.nextElementSibling, 'true');\n    });\n  }, false);\n});\n","/**\n * Primary roll up file for all javascript components.\n */\n// The Accordion Component.\nimport './accordion/accordion.js';\n// The Primary Navigation Component.\nimport './main-nav/main-nav.js';\n// The Secondary Navigation Component.\nimport './secondary-nav/secondary-nav.js';\n","import {closeAllMobileNavs} from './globals';\nimport {isEsc, isSpace, isEnter} from '../../utilities/keyboard';\nimport {createEvent} from '../../utilities/events';\nimport NavItem from './NavItem';\n\n/**\n * Represent a navigation menu. May be the top nav or a subnav.\n *\n * @prop {HTMLElement|NavItem} elem       - The element that is the nav. May\n *                                          be a main nav (<nav>) or a subnav\n *                                          (NavItem).\n * @prop {Nav}                 topNav     - The instance of Nav that models\n *                                          the top nav. If this is the top\n *                                          nav, topNav === this.\n * @prop {HTMLButtonElement}   toggle     - The <button> in the DOM that\n *                                          toggles the menu on mobile. NULL\n *                                          if this is a subnav.\n * @prop {String}              toggleText - The initial text of the mobile\n *                                          toggle (so we can reset it when\n *                                          the mobile nav is closed).\n * @prop {Array}               items      - Instances of NavItem that model\n *                                          each element in the nav\n */\nexport default class Nav {\n\n  /**\n   * Create a Nav\n   *\n   * @param {HTMLElement|NavItem} elem - The element that is the nav menu.\n   *                                     May be a main nav (<nav>) or a subnav\n   *                                     (NavItem).\n   */\n  constructor(elem) {\n    this.elem = elem;\n    this.topNav = this.getTopNav();\n    // If this is a subnav, we need the correpsonding HTMLElement for\n    // .querySelector()\n    if (elem instanceof NavItem) {\n      elem = elem.item;\n    }\n    this.toggle = elem.querySelector(elem.tagName + ' > button');\n    this.toggleText = this.toggle ? this.toggle.innerText : '';\n    this.items = [];\n    // Add custom events to alert others when the mobile nav\n    // opens or closes.\n    // this.openEvent is dispatched in this.openMobileNav().\n    this.openEvent = createEvent('openNav');\n    // this.closeEvent is dispatched in this.closeMobileNav().\n    this.closeEvent = createEvent('closeNav');\n\n    // Initialize items\n    let items = elem.querySelectorAll(elem.tagName + ' > ul > li');\n    items.forEach(\n      item => {\n        this.items.push(new NavItem(item, this));\n      }\n    );\n\n    elem.addEventListener('keydown', this);\n\n    if (this.toggle) {\n      this.toggle.addEventListener('click', this);\n    }\n  }\n\n  // -------------------------------------------------------------------------\n  // Helper Methods.\n  // -------------------------------------------------------------------------\n\n  /**\n   * Get the instance of Nav that represents the top level nav of this\n   * instance.\n   *\n   * @return {Nav}\n   *  Returns the navigation instance.\n   */\n  getTopNav() {\n    let nav = this;\n    while (nav.elem instanceof NavItem) {\n      // If nav is the main nav, nav.elem will be an HTMLElement\n      // (the <nav> element).\n      // If nav.elem is a NavItem, then this is a subNav, so get the Nav that\n      // contains the NavItem.\n      nav = nav.elem.nav;\n    }\n    return nav;\n  }\n\n  /**\n   * Get the instance of Nav that represents the parent of this instance.\n   * If this is the top nav, return this so you can safely call methods on it.\n   *\n   * @return {Nav}\n   *   Returns the navigation instance.\n   */\n  getParentNav() {\n    return this.isSubNav() ? this.elem.nav : this;\n  }\n\n\n  /**\n   * Is this expanded?\n   * If this is a subnav, ask the subnav (NavItem) if it's expanded.\n   * Otherwise (this is the top nav), check aria-expanded.\n   *\n   * @return {Boolean}\n   *   Returns wether or not the item is expanded.\n   */\n  isExpanded() {\n    if (this.elem instanceof NavItem) {\n      return this.elem.isExpanded();\n    }\n\n    return this.elem.getAttribute('aria-expanded') === 'true';\n  }\n\n  /**\n   * Set whether or not this is expanded.\n   * If this is a subnav, let the subnav (NavItem) handled it.\n   * Otherwise (this is the top nav), set aria-expanded.\n   *\n   * @param {String} value - What to set the aria-expanded attribute of\n   *                         this's link to.\n   */\n  setExpanded(value) {\n    if (this.elem instanceof NavItem) {\n      this.elem.setExpanded(value);\n    }\n    else {\n      this.elem.setAttribute('aria-expanded', value);\n      if (this.toggle) {\n        this.toggle.setAttribute('aria-expanded', value);\n      }\n    }\n  }\n\n  /**\n   * Is this rendering the desktop style for the nav?\n   *\n   * @return {Boolean}\n   *  Returns wether or not it is desktop navigation.\n   */\n  isDesktopNav() {\n    return getComputedStyle(this.topNav.toggle).display === 'none';\n  }\n\n  /**\n   * Is this the top nav?\n   *\n   * @return {Boolean}\n   *  Returns wether or not it is the top nav item.\n   */\n  isTopNav() {\n    return this.topNav === this;\n  }\n\n  /**\n   * Is this a subnav?\n   *\n   * @return {Boolean}\n   *  Returns wether or not this is a subnav item.\n   */\n  isSubNav() {\n    return this.topNav !== this;\n  }\n\n  /**\n   * Get the first item in this nav.\n   *\n   * @return {NavItem}\n   *  Returns wether or not this is the first item.\n   */\n  getFirstItem() {\n    return this.items.length ? this.items[0] : null;\n  }\n\n  /**\n   * Get the last item in this nav.\n   *\n   * @return {NavItem}\n   *  Returns wether or not this is the last item.\n   */\n  getLastItem() {\n    return this.items.length ? this.items[this.items.length - 1] : null;\n  }\n\n  /**\n   * Get the link associated with the first item in this nav.\n   *\n   * @return {HTMLAnchorElement}\n   *  Returns the very first link.\n   */\n  getFirstLink() {\n    return this.items.length ? this.getFirstItem().link : null;\n  }\n\n  /**\n   * Get the link associated with the last item in this nav.\n   *\n   * @return {HTMLAnchorElement}\n   *  Returns the very last link.\n   */\n  getLastLink() {\n    return this.items.length ? this.getLastItem().link : null;\n  }\n\n  // -------------------------------------------------------------------------\n  // Functional methods\n  // -------------------------------------------------------------------------\n\n  /**\n   * Set the focus on the specified link in this nav.\n   *\n   * @param {String|Number} link - 'first' | 'last' | 'next'\n   *                                | 'prev' | numerical index\n   * @param {NavItem} currentItem - If link is 'next' or 'prev', currentItem\n   *                                is the NavItem that next / prev is\n   *                                relative to.\n   */\n  focusOn(link, currentItem = null) {\n    let currentIndex = null;\n    let lastIndex = null;\n    if (currentItem) {\n      currentIndex = this.items.indexOf(currentItem);\n      lastIndex = this.items.length - 1;\n    }\n    switch (link) {\n      case 'first':\n        this.getFirstLink().focus();\n        break;\n\n      case 'last':\n        this.getLastLink().focus();\n        break;\n\n      case 'next':\n        if (currentIndex === lastIndex) {\n          this.getFirstLink().focus();\n        }\n        else {\n          this.items[currentIndex + 1].link.focus();\n        }\n        break;\n\n      case 'prev':\n        if (currentIndex === 0) {\n          this.getLastLink().focus();\n        }\n        else {\n          this.items[currentIndex - 1].link.focus();\n        }\n        break;\n\n      default:\n        if (Number.isInteger(link) && link >= 0 && link < this.items.length) {\n          this.items[link].link.focus();\n        }\n        break;\n    }\n  }\n\n  /**\n   * Close any mobile navs that might be open, then mark this mobile nav open.\n   * Optionally force focus on the first element in the nav (for keyboard nav)\n   *\n   * @param {Boolean} focusOnFirst - Whether or not to also focus on the\n   *                                 first element in the subnav.\n   */\n  openMobileNav(focusOnFirst = true) {\n    closeAllMobileNavs();\n\n    this.setExpanded('true');\n    this.toggle.innerText = 'Close';\n    if (focusOnFirst) {\n      // Focus on the first top level link.\n      this.focusOn('first');\n    }\n    // Alert others the mobile nav has opened.\n    this.elem.dispatchEvent(this.openEvent);\n  }\n\n  /**\n   * Mark this mobile closed, and restore the button text to what it was\n   * initially.\n   */\n  closeMobileNav() {\n    if (this.isExpanded()) {\n      this.setExpanded('false');\n      this.toggle.innerText = this.toggleText;\n      // Alert others the mobile nav has closed.\n      this.elem.dispatchEvent(this.closeEvent);\n    }\n  }\n\n  // -------------------------------------------------------------------------\n  // Event handlers\n  // -------------------------------------------------------------------------\n\n  /**\n   * Handler for all events attached to an instance of this class. This method\n   * must exist when events are bound to an instance of a class\n   * (vs a function). This method is called for all events bound to an\n   * instance. It inspects the instance (this) for an appropriate handler\n   * based on the event type. If found, it dispatches the event to the\n   * appropriate handler.\n   *\n   * @param {KeyboardEvent} event - The keyboard event object.\n   *\n   * @return {*}\n   *  Whatever the dispatched handler returns (in our case nothing)\n   */\n  handleEvent(event) {\n    event = event || window.event;\n    // If this class has an onEvent method, e.g. onClick, onKeydown,\n    // invoke it.\n    const handler = 'on'\n      + event.type.charAt(0).toUpperCase()\n      + event.type.slice(1);\n\n    if (typeof this[handler] === 'function') {\n      // The element that was clicked.\n      const target = event.target || event.srcElement;\n      return this[handler](event, target);\n    }\n  }\n\n  /**\n   * Handler for click events. click is only bound to the mobile toggle.\n   * Dispatched from this.handleEvent().\n   *\n   * @param {KeyboardEvent} event   - The keyboard event object.\n   * @param {HTMLElement}   target  - The HTML Element target object.\n   */\n  onClick(event, target) {\n    if (target === this.toggle) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.isExpanded()) {\n        this.closeMobileNav();\n      }\n      else {\n        this.openMobileNav(false);\n      }\n    }\n  }\n\n  /**\n   * Handler for keydown events. keydown is bound to all Nav's.\n   * Dispatched from this.handleEvent().\n   *\n   * @param {KeyboardEvent} event   - The keyboard event object.\n   * @param {HTMLElement}   target  - The HTML Element target object.\n   */\n  onKeydown(event, target) {\n    const theKey = event.key || event.keyCode;\n\n    if (isEsc(theKey)) {\n      if (this.isTopNav()) {\n        if (!this.isDesktopNav()) {\n          event.preventDefault();\n          event.stopPropagation();\n          this.closeMobileNav();\n          this.toggle.focus();\n        }\n      }\n      else {\n        if (this.isExpanded()) {\n          event.preventDefault();\n          event.stopPropagation();\n          this.elem.closeSubNav(true);\n        }\n      }\n    }\n    else if (isEnter(theKey) || isSpace(theKey)) {\n      if (target === this.toggle) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (!this.isExpanded()) {\n          this.openMobileNav();\n        }\n      }\n    }\n  }\n\n}\n","import {theSubNavs, closeAllSubNavs} from './globals';\nimport {\n  isHome,\n  isEnd,\n  isTab,\n  isSpace,\n  isEnter,\n  isLeftArrow,\n  isRightArrow,\n  isUpArrow,\n  isDownArrow\n} from '../../utilities/keyboard';\nimport Nav from './Nav';\nimport {createEvent} from '../../utilities/events';\n\n/**\n * Represent an item in a navigation menu. May be a direct link or a subnav\n * trigger.\n *\n * @prop {HTMLLIElement}   item   - the <li> in the DOM that is the NavItem\n * @prop {HTMLElement|Nav} nav    - the Nav that contains the element.\n *                                  May be a main nav (<nav>) or subnav (Nav).\n * @prop {HTMLLIElement}   link   - the <a> in the DOM that is contained in\n *                                  item (the <li>).\n * @prop {Nav}             subNav - if item is the trigger for a subnav, this\n *                                  is an instonce Nav that models the subnav.\n */\nexport default class NavItem {\n\n  /**\n   * Create a NavItem\n   * @param {HTMLLIElement}   item  - The <li> that is the NavItem in the DOM.\n   * @param {HTMLElement|Nav} nav   - The Nav that contains the element. May\n   *                                  be a main nav (<nav>) or a subnav (Nav).\n   */\n  constructor(item, nav) {\n    this.item = item;\n    this.nav = nav;\n    this.link = this.item.querySelector('a');\n    this.subNav = null;\n    this.item.addEventListener('keydown', this);\n\n    if (this.isSubNavTrigger()) {\n      this.subNav = new Nav(this);\n      // Add custom events to alert others when a subnav opens or closes.\n      // this.openEvent is dispatched in this.openSubNav().\n      this.openEvent = createEvent('openSubnav');\n      // this.closeEvent is dispatched in this.closeSubNav().\n      this.closeEvent = createEvent('closeSubnav');\n\n      // Maintain global list of subnavs for closeAllSubNavs().\n      theSubNavs.push(this);\n      this.item.addEventListener('click', this);\n    }\n  }\n\n  // -------------------------------------------------------------------------\n  // Helper Methods.\n  // -------------------------------------------------------------------------\n\n  /**\n   * Is this the first item in the containing Nav?\n   *\n   * @return {Boolean}\n   *  Wether or not the item is the first item.\n   */\n  isFirstItem() {\n    return this.nav.items.indexOf(this) === 0;\n  }\n\n  /**\n   * Is this the last item in the containing Nav?\n   *\n   * @return {Boolean}\n   *  Wether or not the item is the last item.\n   */\n  isLastItem() {\n    return this.nav.items.indexOf(this) === (this.nav.items.length - 1);\n  }\n\n  /**\n   * Is this a trigger that opens / closes a subnav?\n   *\n   * @return {Boolean}\n   *  Wether or not the item is the sub nav trigger item.\n   */\n  isSubNavTrigger() {\n    return this.item.lastElementChild.tagName.toUpperCase() === 'UL';\n  }\n\n  /**\n   * Is this a component of a subnav - either the trigger or a nav item?\n   *\n   * @return {Boolean}\n   *  Wether or not the item is a subnav item.\n   */\n  isSubNavItem() {\n    return (this.isSubNavTrigger() || this.nav.isSubNav());\n  }\n\n  /**\n   * Is this expanded? Can only return TRUE if this is a subnav trigger.\n   *\n   * @return {Boolean}\n   *  Wether or not the item is expanded.\n   */\n  isExpanded() {\n    return this.link.getAttribute('aria-expanded') === 'true';\n  }\n\n  /**\n   * Set whether or not this is expanded.\n   * Only meaningful if this is a subnav trigger.\n   *\n   * @param {String} value - What to set the aria-expanded attribute of this's\n   *                         link to.\n   */\n  setExpanded(value) {\n    this.link.setAttribute('aria-expanded', value);\n  }\n\n  // -------------------------------------------------------------------------\n  // Functional Methods.\n  // -------------------------------------------------------------------------\n\n  /**\n   * Handles the opening of a sub-nav.\n   *\n   * If this is a subnav trigger, open the corresponding subnav.\n   * Optionally force focus on the first element in the subnav\n   * (for keyboard nav).\n   *\n   * @param {Boolean} focusOnFirst - whether or not to also focus on the first\n   *                                 element in the subnav\n   */\n  openSubNav(focusOnFirst = true) {\n    closeAllSubNavs();\n\n    if (this.isSubNavTrigger()) {\n      this.item.classList.add('su-main-nav__item--expanded');\n      this.setExpanded('true');\n      if (focusOnFirst) {\n        this.subNav.focusOn('first');\n      }\n      this.item.dispatchEvent(this.openEvent);\n    }\n  }\n\n  /**\n   * Handles the closing of a subnav.\n   *\n   * If this is a subnav trigger or an item in a subnav, close the\n   * corresponding subnav. Optionally force focus on the trigger.\n   *\n   * @param {Boolean} focusOnTrigger - Whether or not to also focus on the\n   *                                 subnav's trigger.\n   */\n  closeSubNav(focusOnTrigger = false) {\n    if (this.isSubNavTrigger()) {\n      if (this.isExpanded()) {\n        this.item.classList.remove('su-main-nav__item--expanded');\n        this.setExpanded('false');\n        if (focusOnTrigger) {\n          this.link.focus();\n        }\n        this.item.dispatchEvent(this.closeEvent);\n      }\n    }\n    else if (this.isSubNavItem()) {\n      // This.nav.elem should be a subNavTrigger.\n      this.nav.elem.closeSubNav(focusOnTrigger);\n    }\n  }\n\n  // -------------------------------------------------------------------------\n  // Event Handlers.\n  // -------------------------------------------------------------------------\n\n  /**\n   * Handler for all events attached to an instance of this class. This method\n   * must exist when events are bound to an instance of a class\n   * (vs a function). This method is called for all events bound to an\n   * instance. It inspects the instance (this) for an appropriate handler\n   * based on the event type. If found, it dispatches the event to the\n   * appropriate handler.\n   *\n   * @param {KeyboardEvent} event - The keyboard event.\n   *\n   * @return {*}\n   *   Whatever the dispatched handler returns (in our case nothing)\n   */\n  handleEvent(event) {\n    event = event || window.event;\n\n    // If this class has an onEvent method (onClick, onKeydown) invoke it.\n    const handler = 'on'\n      + event.type.charAt(0).toUpperCase()\n      + event.type.slice(1);\n\n    if (typeof this[handler] === 'function') {\n      // The element that was clicked.\n      const target = event.target || event.srcElement;\n      return this[handler](event, target);\n    }\n  }\n\n  /**\n   * Handler for keydown events. keydown is bound to all NavItem's.\n   * Dispatched from this.handleEvent().\n   *\n   * @param {KeyboardEvent} event - The keyboard event object.\n   * @param {HTMLElement} target  - The HTML element target.\n   */\n  onKeydown(event, target) {\n    const theKey = event.key || event.keyCode;\n\n    // Handler for the space and enter key.\n    if (isSpace(theKey) || isEnter(theKey)) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.isSubNavTrigger()) {\n        this.openSubNav();\n      }\n      else {\n        window.location = this.link;\n      }\n    }\n    // Handler for the down arrow key.\n    else if (isDownArrow(theKey)) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.nav.isDesktopNav()) {\n        if (this.isSubNavTrigger()) {\n          this.openSubNav();\n        }\n        else {\n          this.nav.focusOn('next', this);\n        }\n      }\n      else {\n        this.nav.focusOn('next', this);\n      }\n    }\n    // Handler for the up arrow key.\n    else if (isUpArrow(theKey)) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.nav.focusOn('prev', this);\n    }\n    // Handler for the left arrow key.\n    else if (isLeftArrow(theKey)) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.nav.isDesktopNav()) {\n        if (this.nav.isSubNav()) {\n          this.closeSubNav();\n          let parent = this.nav.getParentNav();\n          // Focus on the previous item in the parent nav.\n          parent.focusOn('prev', this.nav.elem);\n        }\n        else {\n          this.nav.focusOn('prev', this);\n        }\n      }\n      else {\n        if (this.isSubNavItem()) {\n          // Close the subnav and put the focus on the trigger.\n          this.closeSubNav(true);\n        }\n      }\n    }\n    // Handler for the right arrow key.\n    else if (isRightArrow(theKey)) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.nav.isDesktopNav()) {\n        if (this.nav.isSubNav()) {\n          this.closeSubNav();\n          let parent = this.nav.getParentNav();\n          // Focus on the next item in the parent nav.\n          parent.focusOn('next', this.nav.elem);\n        }\n        else {\n          this.nav.focusOn('next', this);\n        }\n      }\n      else {\n        if (this.isSubNavTrigger()) {\n          this.openSubNav();\n        }\n      }\n    }\n    // Handler for the home key.\n    else if (isHome(theKey)) {\n      this.nav.focusOn('first');\n    }\n    // Handler for the end key.\n    else if (isEnd(theKey)) {\n      this.nav.focusOn('last');\n    }\n    // Handler for the tab key.\n    else if (isTab(theKey)) {\n      event.stopPropagation();\n      const shifted = event.shiftKey;\n      if (this.isSubNavItem()\n        && ((!shifted && this.isLastItem())\n          || (shifted && this.isFirstItem()))\n      ) {\n        this.closeSubNav(true);\n      }\n    }\n  }\n\n  /**\n   * Handler for click events.\n   *\n   * Dispatched from this.handleEvent().\n   * Click is only bound to subnav triggers. However, click bubbles up from\n   * subnav items to the trigger.\n   *\n   * @param {KeyboardEvent} event - The keyboard event object.\n   * @param {HTMLElement} target  - The HTML element target.\n   */\n  onClick(event, target) {\n    if (this.isExpanded()) {\n      this.closeSubNav();\n    }\n    else {\n      this.openSubNav(false);\n    }\n    // If the click is directly on the trigger, then we're done.\n    if (target === this.link) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n}\n","// ---------------------------------------------------------------------------\n// Global variables and functions shared amongst the nav code\n// ---------------------------------------------------------------------------\n\n// Variables\n\n/**\n *  Global record of all main navs on the page\n *  - populated in the document.ready function in main-nav.js\n *  - used by closeAllMobileNavs\n * @type {Array}\n */\nexport var theNavs = [];\n\n/**\n *  Global record of all sub navs on the page (may be in different main navs\n *  - populated by the NavItem constructor\n *  - used by closeAllSubNavs\n * @type {Array}\n */\nexport var theSubNavs = [];\n\n// Functions\n\n/**\n * Close all subnavs on the page\n */\nexport const closeAllSubNavs = () => {\n  theSubNavs.forEach(\n    subNav => { subNav.closeSubNav(); }\n  );\n};\n\n/**\n * Close all mobile navs on the page\n */\nexport const closeAllMobileNavs = () => {\n  theNavs.forEach(\n    theNav => { theNav.closeMobileNav(); }\n  );\n};\n","import '../../core/core';\nimport {theNavs, closeAllSubNavs, closeAllMobileNavs} from './globals';\nimport Nav from './Nav';\n\ndocument.addEventListener('DOMContentLoaded', event => {\n\n  // The css class that this following behaviour is applied to.\n  const navClass = 'su-main-nav';\n  // All main navs.\n  const navs = document.querySelectorAll('.' + navClass);\n\n  // Process each nav.\n  let firstZindex;\n  navs.forEach((nav, index) => {\n    // Remove the class that formats the nav for browsers with javascript disabled.\n    nav.classList.remove('no-js');\n\n    // Create an instance of Nav, which in turn creates appropriate instances of NavItem.\n    const theNav = new Nav(nav);\n\n    // Remember the nav for closeAllMobileNavs().\n    theNavs.push(theNav);\n\n    // Manage zindexes in case there are multiple navs near enough for subnavs to overlap.\n    // Rare, but it happens in the styleguide.\n    if (index === 0) {\n      firstZindex = getComputedStyle(nav, null).zIndex;\n    }\n    else {\n      nav.style.zIndex = firstZindex - 300 * index;\n    }\n  }); // navs.forEach\n\n  // Clicking anywhere outside a nav closes all navs.\n  document.addEventListener('click', event => {\n    // The element that was clicked.\n    const target = event.target || event.srcElement;\n    // If target is not under a main nav close all navs.\n    if (!target.matches('.' + navClass + ' ' + target.tagName)) {\n      closeAllSubNavs();\n      closeAllMobileNavs();\n    }\n  }, false);\n\n}); // on DOMContentLoaded.\n","/**\n * ActivePath\n *\n * This class contains features and functionality for handling the finding and\n * setting of the active trail of a menu.\n */\nexport default class ActivePath {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} element The DOM object of the navigation menu.\n   * @param {Mixed} item          The Navigation Class.\n   * @param {Object} options      An optional object of meta information.\n   */\n  constructor(element, item, options = {}) {\n    this.elem = element;\n    this.item = item;\n    // CSS Class properties.\n    this.itemActiveClass = options.itemActiveClass || 'active';\n    this.itemActiveTrailClass = options.itemActiveTrailClass || 'active-trail';\n    this.itemExpandedClass = options.itemExpandedClass || 'expanded';\n  }\n\n  /**\n   * Dynamically add an active path to the menu tree.\n   *\n   * Find all links with the current window's url and add the\n   * options.itemActiveClass class to the LI element container all the way up\n   * the menu tree back to the root.\n   */\n  setActivePath() {\n    let path = window.location.pathname;\n    let anchor = window.location.hash || '';\n    let query = window.location.search || '';\n    let currentItem = false;\n\n    // Queries to run to find matching active paths in order of unqiueness.\n    let finders = [\n      this.elem.querySelector(\"a[href*='\" + anchor + \"']\"),\n      this.elem.querySelector(\"a[href*='\" + query + \"']\"),\n      this.elem.querySelector(\"a[href='\" + path + query + anchor + \"']\"),\n      this.elem.querySelector(\"a[href*='\" + path + query + \"']\")\n    ];\n\n    // Go through the queries and see if we have any results.\n    finders.forEach(function (val) {\n      if (!currentItem && val) {\n        currentItem = val;\n      }\n    });\n\n    // Can't find anything. End.\n    if (!currentItem) {\n      return;\n    }\n\n    // While we have parents go up and add the active class.\n    while (currentItem) {\n\n      // If we are on a LI element we need to add the active class.\n      if (currentItem.tagName === 'LI') {\n        currentItem.classList.add(this.itemActiveClass);\n        break;\n      }\n\n      // Always increment.\n      currentItem = currentItem.parentNode;\n    }\n  }\n\n  /**\n   * Expand all menus in the active path.\n   *\n   * After this.setActivePath() has been run or the itemActiveClass has been set\n   * on all the appropriate menu items go through the nav and expand the\n   * subNavItems that contain activeClass items.\n   */\n  expandActivePath() {\n    let actives = this.elem.querySelectorAll('.' + this.itemActiveClass);\n    if (actives.length) {\n      actives.forEach(\n        element => {\n\n          // While we have parents go up and add the active class.\n          while (element) {\n            // End when we get to the parent nav item stop.\n            if (element === this.elem) {\n              // Stop at the top most level.\n              break;\n            }\n\n            // If we are on a LI element we need to add the active class.\n            if (element.tagName === 'LI') {\n              element.classList.add(this.itemExpandedClass);\n              element.classList.add(this.itemActiveTrailClass);\n              // \"Hook\" of sorts.\n              if (typeof this.item.expandActivePathItem == 'function') {\n                this.item.expandActivePathItem(element);\n              }\n            }\n\n            // Always increment.\n            element = element.parentNode;\n          }\n        }\n      );\n    }\n  }\n}\n","/**\n * ElementFetcher Class\n *\n * Provides a relative named DOM navigator for quickly getting elements relative\n * to the provided context.\n */\nexport default class ElementFetcher {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} element   The DOM object to use.\n   * @param {String} what           A named string.\n   */\n  constructor(element, what) {\n    this.item = element;\n    this.what = what;\n  }\n\n  /**\n   * Attempt to retrieve an item.\n   *\n   * @return {Boolean|HTMLElement} An element or false if `what` is not found.\n   */\n  fetch() {\n    try {\n      switch (this.what) {\n        case 'first':\n          return this.item.parentNode.firstElementChild.firstChild;\n        case 'last':\n          return this.item.parentNode.lastElementChild.firstChild;\n        case 'firstElement':\n          return this.item.parentNode.firstElementChild;\n        case 'lastElement':\n          return this.item.parentNode.lastElementChild;\n        case 'next':\n          return this.item.nextElementSibling.querySelector('a');\n        case 'prev':\n          return this.item.previousElementSibling.querySelector('a');\n        case 'nextElement':\n          return this.item.nextElementSibling;\n        case 'prevElement':\n          return this.item.previousElementSibling;\n        case 'parentItem':\n          var node = this.item.parentNode.parentNode;\n          if (node.tagName === 'NAV') { return false; }\n          return node.querySelector('a');\n        case 'parentButton':\n          return this.item.parentNode.parentNode.querySelector('button');\n        case 'parentNav':\n          return this.item.parentNode.parentNode;\n        case 'parentNavLast':\n          return this.item.parentNode.parentNode.parentNode.lastElementChild.querySelector('a');\n        case 'parentNavFirst':\n          return this.item.parentNode.parentNode.parentNode.firstElementChild.querySelector('a');\n        case 'parentNavNext':\n          return this.item.parentNode.parentNode.nextElementSibling;\n        case 'parentNavNextItem':\n          return this.item.parentNode.parentNode.nextElementSibling.querySelector('a');\n        case 'parentNavPrev':\n          return this.item.parentNode.parentNode.previousElementSibling;\n        case 'parentNavPrevItem':\n          return this.item.parentNode.parentNode.previousElementSibling.querySelector('a');\n        case 'firstSubnavLink':\n          return this.item.querySelector(':scope > ul li a');\n        case 'firstSubnavItem':\n          return this.item.querySelector(':scope > ul li');\n        case 'subnav':\n          return this.item.querySelector(':scope > ul');\n        default:\n          return false;\n      }\n    }\n    catch (err) {\n      return false;\n    }\n  }\n}\n","import {normalizeKey} from '../../utilities/keyboard';\n\n/**\n * EventHandlerDispatch Class\n *\n * This class provides dynamic handling of click and keyboard events and can be\n * attached to any class/HTMLElement.\n */\nexport default class EventHandlerDispatch {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} element   The HTMLElement to bind listeners to.\n   * @param {type}      handler   The Javascript Class instance with the\n   *                                eventRegistry property.\n   */\n  constructor(element, handler) {\n    this.elem = element;\n    this.handler = handler;\n    this.createEventListeners();\n  }\n\n  /**\n   * Create new event listeners.\n   */\n  createEventListeners() {\n    // What to do when a key is down?\n    this.elem.addEventListener('keydown', this);\n\n    // Listen to the click so we can act on it.\n    this.elem.addEventListener('click', this);\n\n    // Listen to custom events so we can act on it.\n    this.elem.addEventListener('preOpenSubnav', this);\n\n    // Listen to custom events so we can act on it.\n    this.elem.addEventListener('postOpenSubnav', this);\n  }\n\n  /**\n   * Handler for all events attached to an instance of this class.\n   *\n   * This method must exist when events are bound to an instance of a class\n   * (vs a function). This method is called for all events bound to an\n   * instance. It inspects the instance (this) for an appropriate handler\n   * based on the event type. If found, it dispatches the event to the\n   * appropriate handler.\n   *\n   * @param {Event} event - The triggering event.\n   */\n  handleEvent(event) {\n    event = event || window.event;\n\n    // Create an event signature.\n    const eventMethod = 'on'\n      + event.type.charAt(0).toUpperCase()\n      + event.type.slice(1);\n\n    // What was clicked.\n    const target = event.target || event.srcElement;\n\n    if (eventMethod === 'onKeydown') {\n      this.onKeydown(event, target);\n    }\n    else if (eventMethod === 'onClick') {\n      this.onClick(event, target);\n    }\n    else {\n      this.callEvent(eventMethod, event, target);\n    }\n  }\n\n  /**\n   * Handler for keydown events.\n   *\n   * @param {KeyboardEvent} event - The keyboard event object.\n   * @param {HTMLElement} target  - The HTML element target.\n   */\n  onKeydown(event, target) {\n    let theKey = event.key || event.keyCode;\n    let normalized = normalizeKey(theKey);\n\n    // We don't know or need to handle the key that was pressed.\n    if (!normalized) {\n      return;\n    }\n\n    // Prepare a dynamic handler.\n    let eventMethod = 'onKeydown'\n      + normalized.charAt(0).toUpperCase()\n      + normalized.slice(1);\n\n    // Do eet.\n    this.callEvent(eventMethod, event, target);\n  }\n\n  /**\n   * Handler for click events.\n   *\n   * @param  {Event} event  A Javascript event.\n   * @param  {HTMLElement} target The target of the event.\n   */\n  onClick(event, target) {\n    this.callEvent('onClick', event, target);\n  }\n\n  /**\n   * The event handler\n   *\n   * Initializes and executes an object to handle the Javascript Event as\n   * defined by the handlers eventRegistry.\n   *\n   * @param  {String} eventMethod A string key for the eventRegistry;\n   * @param  {Event} event        The Javascript event.\n   * @param  {HTMLElement} target The DOM object that the event is triggered on.\n   */\n  callEvent(eventMethod, event, target) {\n    if (typeof this.handler.eventRegistry[eventMethod] === 'function') {\n      var eventObj = new this.handler.eventRegistry[eventMethod](this.handler, event, target);\n      eventObj.init();\n    }\n  }\n\n}\n","import SecondaryNavAbstract from '../common/SecondaryNavAbstract';\nimport SecondaryNavItem from '../common/SecondaryNavItem';\nimport SecondarySubNavAccordion from './SecondarySubNavAccordion';\n\n/**\n * A secondary menu with accordion buttons.\n */\nexport default class SecondaryNavAccordion extends SecondaryNavAbstract {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} elem  The outermost wrapper for the Navigation.\n   * @param {Object} options    An object of metadata.\n   */\n  constructor(elem, options = {}) {\n    // Let super do what super does.\n    super(elem, options);\n\n    // Ok do the creation.\n    this.createSubNavItems();\n\n    // Expand the active path.\n    this.activePath.expandActivePath();\n  }\n\n  /**\n   * Add the additional state handling after the abstract option has run.\n   *\n   * @param  {HTMLElement} item The HTMLElement being acted upon.\n   */\n  expandActivePathItem(item) {\n    item.firstElementChild.setAttribute('aria-expanded', 'true');\n  }\n\n  /**\n   * Function for creating a new nested navigation item.\n   *\n   * @param  {HTMLElement} item     The HTMLElement to attach a new subnav to.\n   * @param  {Integer} depth        The level of nesting. (starts at 1)\n   * @param  {Object|Mixed} parent  The parent subnav instance.\n   *\n   * @return {SecondarySubNavAccordion} A brand new instance.\n   */\n  newParentItem(item, depth, parent) {\n    var opts = this.options;\n    opts.depth = depth;\n\n    var nav = new SecondarySubNavAccordion(\n      item,\n      this,\n      parent,\n      opts\n    );\n    this.subNavItems.push(nav);\n    return nav;\n  }\n\n  /**\n   * Function for creating a new single tier navigation item.\n   *\n   * @param  {HTMLElement} item     The HTMLElement to attach a new subnav to.\n   * @param  {Integer} depth        The level of nesting. (starts at 1)\n   * @param  {Object|Mixed} parent  The parent subnav instance.\n   *\n   * @return {SecondaryNavItem} A brand new instance.\n   */\n  newNavItem(item, depth, parent) {\n    var opts = this.options;\n    opts.depth = depth;\n\n    var nav = new SecondaryNavItem(\n      item,\n      this,\n      parent,\n      opts\n    );\n    this.navItems.push(nav);\n    return nav;\n  }\n}\n","import EventHandlerDispatch from '../../nav/EventHandlerDispatch';\n// Click handler.\nimport OnClick from './events/OnClick';\n// Keyboard events.\nimport OnHome from '../common/events/OnHome';\nimport OnEnd from '../common/events/OnEnd';\nimport OnTab from '../common/events/OnTab';\nimport OnEsc from '../common/events/OnEsc';\nimport OnSpace from './events/OnSpace';\nimport OnArrowUp from '../common/events/OnArrowUp';\nimport OnArrowRight from './events/OnArrowRight';\nimport OnArrowDown from '../common/events/OnArrowDown';\nimport OnArrowLeft from './events/OnArrowLeft';\n\n/**\n * SecondarySubNavAccordion Class\n *\n * A sub menu class for creating a menu with accordion functionality.\n */\nexport default class SecondarySubNavAccordion {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} element     The container wrapper for the nav.\n   * @param {Object|Mixed} masterNav  The top most level navigation.\n   * @param {Object|Mixed} parentNav  The parent navigation instance if this\n   *                                  instance is nested.\n   * @param {Object} options          A meta object of information and options.\n   */\n  constructor(element, masterNav, parentNav = null, options = {}) {\n    // Vars.\n    this.elem = element;\n    this.item = element.parentNode;\n    this.masterNav = masterNav;\n    this.parentNav = parentNav;\n    this.depth = options.depth || 1;\n\n    // Merge in defaults.\n    this.options = Object.assign({\n      itemExpandedClass: 'su-secondary-nav__item--expanded'\n    }, options);\n\n    // Assign the event dispatcher and event registry.\n    this.eventRegistry = this.createEventRegistry(options);\n    this.dispatch = new EventHandlerDispatch(element, this);\n  }\n\n  /**\n   * Creates an event registry for handling types of events.\n   *\n   * This registry is used by the EventHandlerDispatch class to bind and\n   * execute the events in the created property key.\n   *\n   * @param  {Object} options Options to merge in with the defaults.\n   *\n   * @return {Object} A key/value registry of events and handlers.\n   */\n  createEventRegistry(options) {\n\n    var registryDefaults = {\n      onClick: OnClick,\n      onKeydownSpace: OnSpace,\n      onKeydownEnter: OnSpace,\n      onKeydownHome: OnHome,\n      onKeydownEnd: OnEnd,\n      onKeydownTab: OnTab,\n      onKeydownEscape: OnEsc,\n      onKeydownArrowUp: OnArrowUp,\n      onKeydownArrowRight: OnArrowRight,\n      onKeydownArrowDown: OnArrowDown,\n      onKeydownArrowLeft: OnArrowLeft\n    };\n\n    return Object.assign(registryDefaults, options.eventRegistry);\n  }\n\n  /**\n   * Is this expanded? Can only return TRUE if this is a subnav trigger.\n   *\n   * @return {Boolean}\n   *  Wether or not the item is expanded.\n   */\n  isExpanded() {\n    return this.elem.getAttribute('aria-expanded') === 'true';\n  }\n\n  /**\n   * Handles the opening of a sub-nav.\n   *\n   * If this is a subnav trigger, open the corresponding subnav.\n   * Optionally force focus on the first element in the subnav\n   * (for keyboard nav).\n   */\n  openSubNav() {\n    this.elem.setAttribute('aria-expanded', 'true');\n    this.item.classList.add(this.options.itemExpandedClass);\n  }\n\n  /**\n   * Handles the closing of a subnav.\n   *\n   * If this is a subnav trigger or an item in a subnav, close the\n   * corresponding subnav. Optionally force focus on the trigger.\n   */\n  closeSubNav() {\n    this.elem.setAttribute('aria-expanded', 'false');\n    this.item.classList.remove(this.options.itemExpandedClass);\n  }\n\n  /**\n   * Get the level of nesting for this nav.\n   *\n   * @return {Integer} The integer of depth starting at 1.\n   */\n  getDepth() {\n    return this.depth;\n  }\n\n}\n","import EventAbstract from '../../common/events/EventAbstract';\nimport NavItemOnArrowLeft from '../../common/events/OnArrowLeft';\n\n/**\n * OnArrowLeft\n *\n * Event action handler class.\n */\nexport default class OnArrowLeft extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    // Go up a level and close the nav.\n    this.event.preventDefault();\n\n    // Previous nav parents link item to focus on.\n    var node = this.getElement('parentItem');\n    this.parentNav.closeSubNav();\n\n    // If we found a previous item focus on it.\n    if (node) {\n      node.focus();\n    }\n    // Overwise do what the navigate left option does.\n    else {\n      var otherLeft = new NavItemOnArrowLeft(this.item, this.event, this.target);\n      otherLeft.init();\n    }\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * OnArrowRight\n *\n * Event action handler class.\n */\nexport default class OnArrowRight extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    // Go down a level and open the SubNav.\n    this.event.preventDefault();\n    this.item.openSubNav();\n    this.getElement('firstSubnavLink').focus();\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * OnClick\n *\n * Event action handler class.\n */\nexport default class OnClick extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.stopPropagation();\n    this.event.preventDefault();\n\n    if (this.item.isExpanded()) {\n      this.item.closeSubNav();\n      // We blur then focus so that the browser announces the collapse to\n      // those using screen readers and other assistive devices.\n      this.elem.blur();\n      this.elem.focus();\n    }\n    else {\n      this.item.openSubNav();\n    }\n  }\n\n}\n","import EventAbstract from '../../common/events/EventAbstract';\nimport OnClick from './OnClick';\n\n/**\n * OnSpace\n *\n * Event action handler class.\n */\nexport default class OnSpace extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n\n    // Do the rest of the stuff click does.\n    var eventClick = new OnClick(this.item, this.event, this.target);\n    eventClick.init();\n\n    // Focus on the first element for keyboard but not clicks.\n    if (this.item.isExpanded()) {\n      this.getElement('firstSubnavLink').focus();\n    }\n  }\n\n}\n","import SecondaryNavAbstract from '../common/SecondaryNavAbstract';\nimport SecondaryNavItem from '../common/SecondaryNavItem';\nimport SecondarySubNavButtons from './SecondarySubNavButtons';\n\n/**\n * A secondary menu with toggle buttons.\n */\nexport default class SecondaryNavButtons extends SecondaryNavAbstract {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} elem  The outermost wrapper for the Navigation.\n   * @param {Object} options    An object of metadata.\n   */\n  constructor(elem, options = {}) {\n\n    // Merge with the default options.\n    options = Object.assign({\n      itemExpandedClass: 'su-secondary-nav__item--expanded',\n      toggleClass: 'su-nav-toggle',\n      toggleLabel: 'expand menu',\n      subNavToggleText: '+'\n    }, options);\n\n    // Call the super.\n    super(elem, options);\n\n    // Ok do the creation.\n    this.createSubNavItems();\n\n    // Expand the path.\n    this.activePath.expandActivePath();\n  }\n\n  /**\n   * Add the additional state handling after the abstract option has run.\n   *\n   * @param  {HTMLElement} item The HTMLElement being acted upon.\n   */\n  expandActivePathItem(item) {\n    var node = item.querySelector('.' + this.options.toggleClass);\n    if (node) {\n      node.setAttribute('aria-expanded', 'true');\n    }\n  }\n\n  /**\n   * Function for creating a new nested navigation item.\n   *\n   * @param  {HTMLElement} item     The HTMLElement to attach a new subnav to.\n   * @param  {Integer} depth        The level of nesting. (starts at 1)\n   * @param  {Object|Mixed} parent  The parent subnav instance.\n   *\n   * @return {SecondarySubNavButtons} A brand new instance.\n   */\n  newParentItem(item, depth, parent) {\n    var nav = new SecondarySubNavButtons(\n      item,\n      this,\n      parent,\n      {\n        itemExpandedClass: this.options.itemExpandedClass,\n        depth: depth\n      }\n    );\n    this.subNavItems.push(nav);\n    return nav;\n  }\n\n  /**\n   * Function for creating a new single tier navigation item.\n   *\n   * @param  {HTMLElement} item     The HTMLElement to attach a new subnav to.\n   * @param  {Integer} depth        The level of nesting. (starts at 1)\n   * @param  {Object|Mixed} parent  The parent subnav instance.\n   *\n   * @return {SecondaryNavItem} A brand new instance.\n   */\n  newNavItem(item, depth, parent) {\n    var nav = new SecondaryNavItem(\n      item,\n      this,\n      parent,\n      {depth: depth}\n    );\n    this.navItems.push(nav);\n    return nav;\n  }\n\n}\n","import SubNavToggle from './SubNavToggle';\n// Events\nimport EventHandlerDispatch from '../../nav/EventHandlerDispatch';\n// Keyboard events.\nimport OnHome from '../common/events/OnHome';\nimport OnEnd from '../common/events/OnEnd';\nimport OnTab from './events/OnTab';\nimport OnEsc from '../common/events/OnEsc';\nimport OnSpace from '../common/events/OnSpace';\nimport OnArrowUp from '../common/events/OnArrowUp';\nimport OnArrowRight from './events/OnArrowRight';\nimport OnArrowDown from '../common/events/OnArrowDown';\nimport OnArrowLeft from '../common/events/OnArrowLeft';\n\n/**\n * SecondarySubNavButtons Class\n *\n * A sub menu class for creating a menu with toggle button functionality.\n */\nexport default class SecondarySubNavButtons {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} element     The container wrapper for the nav.\n   * @param {Object|Mixed} masterNav  The top most level navigation.\n   * @param {Object|Mixed} parentNav  The parent navigation instance if this\n   *                                  instance is nested.\n   * @param {Object} options          A meta object of information and options.\n   */\n  constructor(element, masterNav, parentNav = null, options = {}) {\n    // Vars.\n    this.elem = element;\n    this.item = element.parentNode;\n    this.masterNav = masterNav;\n    this.parentNav = parentNav;\n    this.depth = options.depth || 1;\n\n    // Merge in defaults.\n    this.options = Object.assign({\n      itemExpandedClass: 'su-secondary-nav__item--expanded',\n      toggleClass: 'su-nav-toggle',\n      toggleLabel: 'expand menu',\n      subNavToggleText: '+'\n    }, options);\n\n    // Assign the event dispatcher and event registry.\n    this.eventRegistry = this.createEventRegistry(options);\n    this.dispatch = new EventHandlerDispatch(element, this);\n\n    // Create the toggle buttons.\n    this.toggleElement = this.createToggleButton();\n    this.item.insertBefore(this.toggleElement, this.item.querySelector('ul'));\n    this.toggle = new SubNavToggle(this.toggleElement, this, options);\n  }\n\n  /**\n   * Creates an event registry for handling types of events.\n   *\n   * This registry is used by the EventHandlerDispatch class to bind and\n   * execute the events in the created property key.\n   *\n   * @param  {Object} options Options to merge in with the defaults.\n   *\n   * @return {Object} A key/value registry of events and handlers.\n   */\n  createEventRegistry(options) {\n\n    var registryDefaults = {\n      onKeydownSpace: OnSpace,\n      onKeydownEnter: OnSpace,\n      onKeydownHome: OnHome,\n      onKeydownEnd: OnEnd,\n      onKeydownTab: OnTab,\n      onKeydownEscape: OnEsc,\n      onKeydownArrowUp: OnArrowUp,\n      onKeydownArrowRight: OnArrowRight,\n      onKeydownArrowDown: OnArrowDown,\n      onKeydownArrowLeft: OnArrowLeft\n    };\n\n    return Object.assign(registryDefaults, options.eventRegistry);\n  }\n\n  /**\n   * Create and a button for the expand/collapse actions.\n   *\n   * @return {HTMLElement} The button toggle.\n   */\n  createToggleButton() {\n    let element = document.createElement('button');\n    let label = document.createTextNode(this.options.toggleText);\n\n    // Give this instance a unique ID.\n    let id = 'toggle-' + Math.random().toString(36).substr(2, 9);\n\n    element.setAttribute('class', this.options.toggleClass);\n    element.setAttribute('aria-expanded', 'false');\n    // element.setAttribute('aria-controls', this.subNav.id);\n    element.setAttribute('aria-label', this.options.toggleLabel);\n    element.setAttribute('id', id);\n    element.appendChild(label);\n\n    return element;\n  }\n\n  /**\n   * Is this expanded? Can only return TRUE if this is a subnav trigger.\n   *\n   * @return {Boolean}\n   *  Wether or not the item is expanded.\n   */\n  isExpanded() {\n    return this.toggleElement.getAttribute('aria-expanded') === 'true';\n  }\n\n  /**\n   * Handles the opening of a sub-nav.\n   *\n   * If this is a subnav trigger, open the corresponding subnav.\n   * Optionally force focus on the first element in the subnav\n   * (for keyboard nav).\n   */\n  openSubNav() {\n    this.toggleElement.setAttribute('aria-expanded', true);\n    this.item.classList.add(this.options.itemExpandedClass);\n  }\n\n  /**\n   * Handles the closing of a subnav.\n   *\n   * If this is a subnav trigger or an item in a subnav, close the\n   * corresponding subnav. Optionally force focus on the trigger.\n   */\n  closeSubNav() {\n    this.toggleElement.setAttribute('aria-expanded', false);\n    this.item.classList.remove(this.options.itemExpandedClass);\n  }\n\n  /**\n   * Get the level of nesting for this nav.\n   *\n   * @return {Integer} The integer of depth starting at 1.\n   */\n  getDepth() {\n    return this.depth;\n  }\n\n}\n","import EventHandlerDispatch from '../../nav/EventHandlerDispatch';\n// Events\nimport SubNavToggleClick from './events/SubNavToggleClick';\nimport SubNavToggleSpace from './events/SubNavToggleSpace';\nimport SubNavToggleArrowDown from './events/SubNavToggleArrowDown';\nimport SubNavToggleArrowLeft from './events/SubNavToggleArrowLeft';\nimport SubNavToggleArrowUp from './events/SubNavToggleArrowUp';\n\nimport OnHome from '../common/events/OnHome';\nimport OnEnd from '../common/events/OnEnd';\nimport OnEsc from '../common/events/OnEsc';\n\n/**\n * A stoggle button.\n */\nexport default class SubNavToggle {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} element   The element to bind to.\n   * @param {Object|Mixed} item     The parent nav instance.\n   * @param {Object} options        Mixed meta information.\n   */\n  constructor(element, item, options) {\n    this.parentNav = item;\n    this.masterNav = item.masterNav;\n    this.toggle = element;\n    this.elem = element;\n    this.options = options;\n\n    // Assign the event dispatcher and event registry.\n    this.eventRegistry = this.createEventRegistry(options);\n    this.dispatch = new EventHandlerDispatch(element, this);\n  }\n\n  /**\n   * Creates an event registry for handling types of events.\n   *\n   * This registry is used by the EventHandlerDispatch class to bind and\n   * execute the events in the created property key.\n   *\n   * @param  {Object} options Options to merge in with the defaults.\n   *\n   * @return {Object} A key/value registry of events and handlers.\n   */\n  createEventRegistry(options) {\n\n    var registryDefaults = {\n      onClick: SubNavToggleClick,\n      onKeydownSpace: SubNavToggleSpace,\n      onKeydownEnter: SubNavToggleSpace,\n      onKeydownHome: OnHome,\n      onKeydownEnd: OnEnd,\n      onKeydownEscape: OnEsc,\n      onKeydownArrowUp: SubNavToggleArrowUp,\n      onKeydownArrowRight: SubNavToggleSpace,\n      onKeydownArrowDown: SubNavToggleArrowDown,\n      onKeydownArrowLeft: SubNavToggleArrowLeft\n    };\n\n    return Object.assign(registryDefaults, options.eventRegistry);\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * OnArrowRight\n *\n * Event action handler class.\n */\nexport default class OnArrowRight extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.item.toggleElement.focus();\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * OnTab\n *\n * Event action handler class.\n */\nexport default class OnTab extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    // Only act on backwards options as we want to allow the tab to go\n    // to the toggle.\n    const shifted = event.shiftKey;\n    if (!shifted) {\n      if (!this.getElement('nextElement') && this.item.getDepth() === 1) {\n        this.masterNav.closeAllSubNavs();\n      }\n      return;\n    }\n\n    // If no previous element we are going up a level and should close\n    // up behind us.\n    let node = this.getElement('prev');\n    if (!node) {\n      this.parentNav.closeSubNav();\n    }\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * SubNavToggleArrowDown\n *\n * Event action handler class.\n */\nexport default class SubNavToggleArrowDown extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n\n    // If on the toggle item and the menu is expanded go down in to the first\n    // menu item link as the focus.\n    if (this.parentNav.isExpanded()) {\n      event.stopPropagation();\n      event.preventDefault();\n      this.getElement('firstSubnavLink').focus();\n    }\n    // If current focus is on the toggle and the menu is not open, go to the\n    // next sibling menu item.\n    else {\n      var node =\n        this.getElement('next') ||\n        this.getElement('parentNavNext') ||\n        this.getElement('last');\n      if (node) {\n        node.focus();\n      }\n    }\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * SubNavToggleArrowLeft\n *\n * Event action handler class.\n */\nexport default class SubNavToggleArrowLeft extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    event.stopPropagation();\n    event.preventDefault();\n    this.parentNav.elem.focus();\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * SubNavToggleArrowUp\n *\n * Event action handler class.\n */\nexport default class SubNavToggleArrowUp extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n\n    // If the current focus is on the toggle and the menu is expanded, close\n    // this nav menu and go to the parent list item.\n    if (this.parentNav.isExpanded()) {\n      event.stopPropagation();\n      event.preventDefault();\n      this.parentNav.closeSubNav();\n      this.getElement('parentItem').focus();\n    }\n    // If the focus is on the toggle and the menu is not expanded, go to the\n    // previous sibling item by calling the super method.\n    else {\n      var node =\n        this.getElement('prev') ||\n        this.getElement('parentNavPrev') ||\n        this.getElement('first');\n      if (node) {\n        node.focus();\n      }\n    }\n  }\n}\n","import EventAbstract from '../../common/events/EventAbstract';\n\n/**\n * SubNavToggleClick\n *\n * Event action handler class.\n */\nexport default class SubNavToggleClick extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    if (this.parentNav.isExpanded()) {\n      this.parentNav.closeSubNav();\n      this.elem.blur();\n      this.elem.focus();\n    }\n    else {\n      this.parentNav.openSubNav();\n    }\n  }\n\n}\n","import EventAbstract from '../../common/events/EventAbstract';\nimport SubNavToggleClick from './SubNavToggleClick';\n\n/**\n * SubNavToggleSpace\n *\n * Event action handler class.\n */\nexport default class SubNavToggleSpace extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    // No jumping around.\n    this.event.preventDefault();\n\n    // Call the click because it is pretty much the same thing.\n    var eventClick = new SubNavToggleClick(this.item, this.event, this.target);\n    eventClick.init();\n\n    // Only focus on keyboard nav not on click.\n    if (this.parentNav.isExpanded()) {\n      var node = this.getElement('firstSubnavLink');\n      if (node) {\n        node.focus();\n      }\n    }\n  }\n}\n","import ActivePath from '../../nav/ActivePath';\nimport EventHandlerDispatch from '../../nav/EventHandlerDispatch';\nimport OnEsc from './events/OnEsc';\nimport OnSpace from './events/OnSpace';\n\n/**\n * SecondaryNav Class\n *\n * The most abstract version of a SecondaryNav. All Nav types should extend\n * this class in order to have a psuedo interface and default methods.\n */\nexport default class SecondaryNavAbstract {\n\n  /**\n   * Nav Abstract Constructor class.\n   *\n   * @param {HTMLElement} element    The html element to use as the parent for the nav list.\n   * @param {Object} options      An object with key value pairs of configuration options.\n   */\n  constructor(element, options = {}) {\n    // What HTML element this is bound to.\n    this.elem = element;\n\n    // Set some default options.\n    var defaultOptions = {\n      itemClass: 'su-secondary-nav__item',\n      itemExpandedClass: 'su-secondary-nav__item--expanded',\n      itemActiveClass: 'su-secondary-nav__item--current',\n      itemActiveTrailClass: 'su-secondary-nav__item--active-trail',\n      itemParentClass: 'su-secondary-nav__item--parent',\n      eventRegistry: {}\n    };\n\n    // Merge with passed in options.\n    this.options = Object.assign(defaultOptions, options);\n\n    // Remove the no-js class.\n    this.elem.classList.remove('no-js');\n\n    // Assign the event dispatcher and event registry.\n    this.eventRegistry = this.createEventRegistry(options);\n    this.dispatch = new EventHandlerDispatch(element, this);\n\n    // Handle the active state.\n    this.activePath = new ActivePath(element, this, this.options);\n    this.activePath.setActivePath();\n\n    // Helper Item Variables.\n    this.navItems = [];\n    this.subNavItems = [];\n    this.parentItemSelector = ':scope > ul > .' + this.options.itemParentClass;\n    this.navItemSelector = ':scope > ul > .' + this.options.itemClass + ':not(.' + this.options.itemParentClass + ')';\n  }\n\n  /**\n   * Add the additional state handling after the abstract option has run.\n   *\n   * @param  {HTMLElement} item The HTMLElement being acted upon.\n   */\n  expandActivePathItem(item) {\n    // For any additional items outside of the core functions.\n  }\n\n  /**\n   * Creates an event registry for handling types of events.\n   *\n   * This registry is used by the EventHandlerDispatch class to bind and\n   * execute the events in the created property key.\n   *\n   * @param  {Object} options Options to merge in with the defaults.\n   *\n   * @return {Object} A key/value registry of events and handlers.\n   */\n  createEventRegistry(options) {\n\n    var registryDefaults = {\n      onKeydownEscape: OnEsc,\n      onKeydownSpace: OnSpace\n    };\n\n    return Object.assign(registryDefaults, options.eventRegistry);\n  }\n\n  /**\n   * Kickoff method for generating single and multi-tier nav instances.\n   */\n  createSubNavItems() {\n\n    // Find all the single and multi-tier items.\n    var parentItems = this.elem.querySelectorAll(this.parentItemSelector);\n    var leafItems = this.elem.querySelectorAll(this.navItemSelector);\n\n    // Sub Nav Items.\n    if (parentItems.length >= 1) {\n      this.createParentItems(parentItems);\n    }\n\n    // Regular Ol Items.\n    if (leafItems.length >= 1) {\n      this.createNavItems(leafItems);\n    }\n  }\n\n  /**\n   * Recursive loop for creating nested navigation instances.\n   *\n   * @param  {NodeList} items A set of sibling parent menu items.\n   * @param  {Number} depth The current depth of recursion.\n   * @param  {Object|Mixed} parentMenu The instance of the parent menu.\n   */\n  createParentItems(items, depth = 1, parentMenu = null) {\n    items.forEach(\n      item => {\n        var itemLink = item.querySelector('a');\n        var parentItems = item.querySelectorAll(this.parentItemSelector);\n        var leafItems = item.querySelectorAll(this.navItemSelector);\n        var nextDepth = depth + 1;\n        var parentNav = null;\n\n        // If we have a link add to it.\n        if (itemLink) {\n          parentNav = this.newParentItem(itemLink, depth, parentMenu);\n        }\n\n        // Nested Sub Nav Items.\n        if (parentItems.length >= 1) {\n          this.createParentItems(parentItems, nextDepth, parentNav);\n        }\n\n        // Nested Nav Items.\n        if (leafItems.length >= 1) {\n          this.createNavItems(leafItems, nextDepth, parentNav);\n        }\n      }\n    );\n  }\n\n  /**\n   * Recursive loop for creating single level navigation instances.\n   *\n   * @param  {NodeList} items A set of sibling parent menu items.\n   * @param  {Number} depth The current depth of recursion.\n   * @param  {Object|Mixed} parentMenu The instance of the parent menu.\n   */\n  createNavItems(items, depth = 1, parentMenu = null) {\n    items.forEach(\n      item => {\n        var itemLink = item.querySelector('a');\n        if (itemLink) {\n          this.newNavItem(itemLink, depth, parentMenu);\n        }\n      }\n    );\n  }\n\n  /**\n   * Close all subNavItems in this Nav.\n   */\n  closeAllSubNavs() {\n    this.subNavItems.forEach(\n      (item, event) => {\n        item.closeSubNav();\n      }\n    );\n  }\n\n  /**\n   * Close only this subnav.\n   */\n  closeSubNav() {\n    this.closeAllSubNavs();\n  }\n}\n","import EventHandlerDispatch from '../../nav/EventHandlerDispatch';\n\n// Keyboard control events.\nimport OnArrowDown from './events/OnArrowDown';\nimport OnArrowLeft from './events/OnArrowLeft';\nimport OnArrowRight from './events/OnArrowRight';\nimport OnArrowUp from './events/OnArrowUp';\nimport OnEnd from './events/OnEnd';\nimport OnEsc from './events/OnEsc';\nimport OnHome from './events/OnHome';\nimport OnEnter from './events/OnEnter';\nimport OnSpace from './events/OnSpace';\nimport OnTab from './events/OnTab';\n\n/**\n * SecondaryNav Class\n */\nexport default class SecondaryNavItem {\n\n  /**\n   * Initialize.\n   *\n   * @param {HTMLElement} element      The HTMLElement to bind to.\n   * @param {Object|Mixed} masterNav   The top most navigation instance.\n   * @param {Object|Mixed} parentNav   The parent nav instance if available.\n   * @param {Object} options           An object of metadata.\n   */\n  constructor(element, masterNav, parentNav = null, options = {}) {\n    this.elem = element;\n    this.item = element.parentNode;\n    this.masterNav = masterNav;\n    this.parentNav = parentNav;\n    this.depth = options.depth || 1;\n\n    // Assign the event dispatcher and event registry.\n    this.eventRegistry = this.createEventRegistry(options);\n    this.dispatch = new EventHandlerDispatch(element, this);\n  }\n\n  /**\n   * Creates an event registry for handling types of events.\n   *\n   * This registry is used by the EventHandlerDispatch class to bind and\n   * execute the events in the created property key.\n   *\n   * @param  {Object} options Options to merge in with the defaults.\n   *\n   * @return {Object} A key/value registry of events and handlers.\n   */\n  createEventRegistry(options) {\n\n    var registryDefaults = {\n      onKeydownHome: OnHome,\n      onKeydownEnd: OnEnd,\n      onKeydownTab: OnTab,\n      onKeydownSpace: OnSpace,\n      onKeydownEnter: OnEnter,\n      onKeydownEscape: OnEsc,\n      onKeydownArrowUp: OnArrowUp,\n      onKeydownArrowRight: OnArrowRight,\n      onKeydownArrowDown: OnArrowDown,\n      onKeydownArrowLeft: OnArrowLeft\n    };\n\n    return Object.assign(registryDefaults, options.eventRegistry);\n  }\n\n  /**\n   * Get the level of nesting for this nav.\n   *\n   * @return {Integer} The integer of depth starting at 1.\n   */\n  getDepth() {\n    return this.depth;\n  }\n}\n","import ElementFetcher from '../../../nav/ElementFetcher';\n\n/**\n * EventAbstract\n *\n * An abstract class for creating an interface for working with the\n * EventHandlerDispatch class. This is the signature for all instances\n * that are evoked through the eventRegistry.\n */\nexport default class EventAbstract {\n\n  /**\n   * Initialize.\n   *\n   * @param {Object|Mixed} item The javascript object instance that this is bound to.\n   * @param {KeyboardEvent|MouseEvent} event - The event object.\n   * @param {HTMLElement} target  - The HTML element target.\n   */\n  constructor(item, event, target) {\n    this.item = item;\n    this.elem = item.elem;\n    this.masterNav = item.masterNav;\n    this.parentNav = item.parentNav;\n    this.target = target;\n    this.event = event;\n  }\n\n  /**\n   * A validation shorcut that should pass before running exec().\n   *\n   * @return {Boolean} Wether or not the event target is what this instance is bound to.\n   */\n  isOnTarget() {\n    // Check to see if the event target is what this instance is bound to.\n    if (this.target === this.elem) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * A validation method that should pass before running exec().\n   *\n   * @return {Boolean} Wether or not validation passes.\n   */\n  validate() {\n    // Only act on me.\n    if (!this.isOnTarget()) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Interface method.\n   *\n   * When evoking this abstract instance you should use this method as your\n   * iterface for calling the action.\n   */\n  init() {\n    if (this.validate()) {\n      this.exec();\n    }\n  }\n\n  /**\n   * Shortcut function to find a DOM element.\n   *\n   * This is a helper function that uses a ElementFetcher instance to navigate\n   * and traverse the DOM relative to the current context.\n   *\n   * @param  {String} what A keyword for what we are trying to find.\n   * @param  {HTMLElement} context The relative starting location for the finder.\n   * @return {Boolean|HTMLElement} False if not found or an HTMLElement.\n   */\n  getElement(what, context = this.elem.parentNode) {\n    var fetcher = new ElementFetcher(context, what);\n    return fetcher.fetch();\n  }\n\n}\n","import EventAbstract from './EventAbstract';\nimport OnHome from './OnHome';\n\n/**\n * OnArrowDown\n *\n * Event action handler class.\n */\nexport default class OnArrowDown extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n\n    // Go to the next item.\n    let node = this.getElement('next');\n    if (node) {\n      node.focus();\n      return;\n    }\n\n    // If a node is not found go to home.\n    var eventHome = new OnHome(this.item, this.event, this.target);\n    eventHome.init();\n  }\n\n}\n","import EventAbstract from './EventAbstract';\nimport OnArrowUp from './OnArrowUp';\n\n/**\n * OnArrowLeft\n *\n * Event action handler class.\n */\nexport default class OnArrowLeft extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n\n    // If this is a nested item. Go back up a level.\n    if (this.item.getDepth() > 1) {\n      this.nestedLeft();\n    }\n    // Otherwise just to to the previous sibling.\n    else if (this.item.getDepth() === 1) {\n      this.firstLevelLeft();\n    }\n  }\n\n  /**\n   * Action to take on a first level left key press.\n   */\n  firstLevelLeft() {\n    var upevent = new OnArrowUp(this.item, this.event, this.target);\n    upevent.init();\n  }\n\n  /**\n   * Action to take on a nested level left key press\n   */\n  nestedLeft() {\n    let node = this.getElement('parentItem') || this.getElement('parentNavLast');\n    this.parentNav.closeSubNav();\n\n    if (node) {\n      node.focus();\n    }\n  }\n\n}\n","import EventAbstract from './EventAbstract';\nimport OnArrowDown from './OnArrowDown';\n\n/**\n * OnArrowRight\n *\n * Event action handler class.\n */\nexport default class OnArrowRight extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    // If we are in the second level or more we check about traversing\n    // the parent.\n    if (this.item.getDepth() > 1) {\n      let node = this.getElement('parentNavNext');\n      this.parentNav.closeSubNav();\n\n      if (node) {\n        node.querySelector('a').focus();\n      }\n      // Go back to start.\n      else {\n        this.getElement('parentNavFirst').focus();\n      }\n    }\n    else {\n      var eventDown = new OnArrowDown(this.item, this.event, this.target);\n      eventDown.init();\n    }\n  }\n\n}\n","import EventAbstract from './EventAbstract';\nimport OnEnd from './OnEnd';\n\n/**\n * OnArrowUp\n *\n * Event action handler class.\n */\nexport default class OnArrowUp extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n\n    // Go to the previous item.\n    let node = this.getElement('prev');\n    if (node) {\n      node.focus();\n      return;\n    }\n\n    // Default to the end..\n    var eventEnd = new OnEnd(this.item, this.event, this.target);\n    eventEnd.init();\n\n  }\n}\n","import EventAbstract from './EventAbstract';\n\n/**\n * OnEnd\n *\n * Event action handler class.\n */\nexport default class OnEnd extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n    var node = this.getElement('last');\n    if (node) {\n      node.focus();\n    }\n  }\n\n}\n","import EventAbstract from './EventAbstract';\n\n/**\n * OnEnter\n *\n * Event action handler class.\n */\nexport default class OnEnter extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.stopPropagation();\n    this.event.preventDefault();\n    window.location = this.target.getAttribute('href');\n  }\n\n}\n","import EventAbstract from './EventAbstract';\n\n/**\n * OnEsc\n *\n * Event action handler class.\n */\nexport default class OnEsc extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n    let node = false;\n\n    if (this.item.getDepth() > 1) {\n      this.event.stopPropagation();\n      this.parentNav.closeSubNav();\n      node = this.getElement('parentItem');\n    }\n    else {\n      this.masterNav.closeAllSubNavs();\n      node = this.getElement('first', this.item.parentNode);\n    }\n\n    if (node) {\n      node.focus();\n    }\n  }\n\n}\n","import EventAbstract from './EventAbstract';\n\n/**\n * OnHome\n *\n * Event action handler class.\n */\nexport default class OnHome extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.preventDefault();\n    var node = this.getElement('first');\n    if (node) {\n      node.focus();\n    }\n  }\n\n}\n","import EventAbstract from './EventAbstract';\n\n/**\n * OnSpace\n *\n * Event action handler class.\n */\nexport default class OnSpace extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    this.event.stopPropagation();\n    this.event.preventDefault();\n    window.location = this.target.getAttribute('href');\n  }\n\n}\n","import EventAbstract from './EventAbstract';\n\n/**\n * OnTab\n *\n * Event action handler class.\n */\nexport default class OnTab extends EventAbstract {\n\n  /**\n   * Execute the action to the event.\n   */\n  exec() {\n    const shifted = event.shiftKey;\n    let node = null;\n    let firstItem = this.masterNav.elem.querySelector('a');\n    let lastItem = this.masterNav.elem.firstElementChild.lastElementChild.querySelector('li:last-child');\n\n    // If shift key is held.\n    if (shifted) {\n      node = this.getElement('prev');\n      if (this.target === firstItem) {\n        this.masterNav.closeAllSubNavs();\n        return;\n      }\n    }\n    // No shift key, just regular ol tab.\n    else {\n      node = this.getElement('next');\n      if (this.target.parentNode === lastItem) {\n        this.masterNav.closeAllSubNavs();\n        return;\n      }\n    }\n\n    // No nodes were found. Close up behind us.\n    if (!node) {\n      if (this.item.getDepth() > 1) {\n        this.parentNav.closeSubNav();\n      }\n    }\n  }\n}\n","// The css class that this following behaviour is applied to.\nconst secondaryNavClass = 'su-secondary-nav';\n\n// All Secondary navs.\nexport var secondaryNavs = document.querySelectorAll('.' + secondaryNavClass);\n","import '../../core/core';\nimport {secondaryNavs} from './common/globals';\nimport SecondaryNavAccordion from './accordion/SecondaryNavAccordion';\n\ndocument.addEventListener('DOMContentLoaded', event => {\n\n  // Process each secondary nav accordion.\n  secondaryNavs.forEach((nav, index) => {\n    if (nav.className.match(/su-secondary-nav--accordion/)) {\n      new SecondaryNavAccordion(nav);\n    }\n  });\n\n});\n","import '../../core/core';\nimport {secondaryNavs} from './common/globals';\nimport SecondaryNavButtons from './buttons/SecondaryNavButtons';\n\ndocument.addEventListener('DOMContentLoaded', event => {\n\n  secondaryNavs.forEach((nav, index) => {\n    if (nav.className.match(/su-secondary-nav--buttons/)) {\n      new SecondaryNavButtons(nav);\n    }\n  });\n\n});\n","// Get'm\nimport './secondary-nav-accordion.js';\nimport './secondary-nav-buttons.js';\n","// if NodeList doesn't support forEach, use Array's forEach()\nNodeList.prototype.forEach = NodeList.prototype.forEach || Array.prototype.forEach;\n","/**\n * Create an event with the specified name in a browser-agnostic way.\n *\n * @param {string} eventName - the name of the event\n * @param {Object} data - Additional data along with the event.\n *\n * @return {Event} - instance of event which can be dispatched / listened for\n */\nexport const createEvent = (eventName, data) => {\n  if (typeof eventName !== 'string' || eventName.length <= 0) {\n    return null;\n  }\n  // Modern browsers.\n  if (typeof Event == 'function') {\n    return new Event(eventName, data);\n  }\n  // IE\n  else {\n    let ev = document.createEvent('UIEvent');\n    ev.initEvent(eventName, true, true, data);\n    return ev;\n  }\n};\n","// ---------------------------------------------------------------------------\n// Keyboard helper functions\n// ---------------------------------------------------------------------------\n\nexport const isHome = theKey => (theKey === 'Home' || theKey === 122);\nexport const isEnd = theKey => (theKey === 'End' || theKey === 123);\nexport const isTab = theKey => (theKey === 'Tab' || theKey === 9);\nexport const isEsc = theKey => (theKey === 'Escape' || theKey === 'Esc' || theKey === 27);\nexport const isSpace = theKey => (theKey === ' ' || theKey === 'Spacebar' || theKey === 32);\nexport const isEnter = theKey => (theKey === 'Enter' || theKey === 13);\nexport const isLeftArrow = theKey => (theKey === 'ArrowLeft' || theKey === 'Left' || theKey === 37);\nexport const isRightArrow = theKey => (theKey === 'ArrowRight' || theKey === 'Right' || theKey === 39);\nexport const isUpArrow = theKey => (theKey === 'ArrowUp' || theKey === 'Up' || theKey === 38);\nexport const isDownArrow = theKey => (theKey === 'ArrowDown' || theKey === 'Down' || theKey === 40);\n\n/**\n * Return a consistent string for each key validation.\n *\n * @param {*} theKey the code from a keypress event.\n *\n * @return {String} A string name for the key that was pressed.\n */\nexport const normalizeKey = (theKey) => {\n\n  // Key Value Map of the normalized string and the check function.\n  const map = {\n    home: isHome,\n    end: isEnd,\n    tab: isTab,\n    escape: isEsc,\n    space: isSpace,\n    enter: isEnter,\n    arrowLeft: isLeftArrow,\n    arrowRight: isRightArrow,\n    arrowUp: isUpArrow,\n    arrowDown: isDownArrow\n  };\n\n  // Loop through the key/val object and run the check function (val) in order\n  // to return the normalized string (key)\n  for (var entry of Object.entries(map)) {\n    if (entry[1](theKey)) {\n      return entry[0];\n    }\n  }\n\n  return false;\n};\n","import \"Decanter/js/core/core.js\";\nimport \"Decanter/js/components/components.js\";\n\nimport \"./user/comment_form.js\";\nimport \"../scss/user.scss\";\n","const postComments = document.querySelector( '.post__comments' );\nif ( postComments != null ) {\n  const commentList = postComments.querySelector( '.comment__list' );\n  const replyButtons = commentList.querySelectorAll( '.comment__reply' );\n  const replyForms = commentList.querySelectorAll( '.comment__reply-form' );\n\n  const isExpanded = x => x.getAttribute( 'aria-expanded' ) === 'true';\n  const setExpanded = ( x, value ) => x.setAttribute( 'aria-expanded', value );\n  const setHidden = ( x, value ) => x.setAttribute( 'aria-hidden', value );\n\n  document.addEventListener( 'DOMContentLoaded', event => {\n    postComments.classList.remove( 'no-js' );\n\n    for ( let i = 0; i < replyForms.length; i++ ) {\n      replyForms[ i ].setAttribute( 'aria-hidden', true );\n    }\n  } );\n\n  for ( let i = 0; i < replyButtons.length; i++ ) {\n    replyButtons[ i ].addEventListener( 'click', function ( e ) {\n\n      if ( !isExpanded( replyButtons[ i ] ) ) {\n        setExpanded( replyButtons[ i ], 'true' );\n        replyButtons[ i ].innerHTML = 'Close reply form';\n        replyButtons[ i ].classList.add( 'comment__reply-close' );\n        setHidden( replyForms[ i ], 'false' );\n      } else {\n        setExpanded( replyButtons[ i ], 'false' );\n        replyButtons[ i ].innerHTML = replyForms[ i ].querySelector( 'h3' ).innerHTML;\n        replyButtons[ i ].classList.remove( 'comment__reply-close' );\n        setHidden( replyForms[ i ], 'true' );\n      }\n    }, false );\n  }\n}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}